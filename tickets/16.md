# Вопрос 16: Особенности создания в САПР программных средств формирования элементов оформления документов.

Учитывая особую роль в системах документации элементов оформления, рассмотрим особеннсти их создания в САПР. Для того чтобы максимально упростить и ускорить работу по внесению элементов оформления в чертёж, при создании программных моделей чертежей необходимо стремиться максимально уменьшить число размеров (параметров), запрашиваемых системой у конструктора по каждому элементу оформления. Этому стремлению помогает тот факт, что при создании моделей элементов оформления чертежей (в том числе и параметрических) следует широко использовать новый вариант размерных ограничений (параметров) – параметры по умолчанию, значения которых определяются требованиями ЕСКД.

В то же время любая САПР должна предоставлять конструктору возможность несколько изменять эти параметры в пределах требований стнадартов. Это достигается с помощью специальных одного или нескольких меню предварительного задания параметров. Такие меню создаются либо для системы в целом, либо для соответствующих подсистем создания конкретных элементов оформления.

Исследование различных чертежей и требований ЕСКД позволяет выявить параметры умолчания, которые действуют при формировании большинства элементов оформления чертежей. К ним относятся:

- толщина сплошных толстых основных (s), сплошных тонких (от s/3 до s/2) и штрихпунктирных тонких (от s/3 до s/2) линий, мм;
- длина стрелки, мм;
- угол стрелки, градусы;
- расстояние, соответствующее отступу линии размерного обозначения от контура детали, мм;
- расстояние между рядом параллельно расположенных размерных линий, мм;
- значение удлинения выносной линии за размерную линию при формировании размерных обозначений, мм;
- тип (стиль) шрифта, используемого для формирования текстовых строк;
- высота прописных h_t и строчных (10/14 h_t) букв текстовых надписей (размерных чисел, выносок, примечаний, текста, используемого в технологических обозначениях различного типа, и т.д.), мм;
- высота текста для указания значений верхнего и нижнего допусков, 0,7 h_t;
- расстояние от начала полки до начала текста, располагаемого на этой полке, мм;
- расстояние по высоте от полки до нижней границы текстовой строки, формируемой на этой полке, мм;
- расстояние от конца текста до конца полки, мм;
- расстояние, на которое осевые линии и линии симметрии выступают за контуры элементов, на которые они устанавливаются, мм;
- высота специальных графических символов, используемых в различных технологических обозначениях (обычно их высоты в ЕСКД задаются в виде функциональной зависимости от высоты прописных букв текста), мм;
- границы зон, для которых определяются ориентация и способы формирования обозначений знаков шероховатости, градусы;

В существующих САПР не все элементы оформления могут быть созданы с помощью специально разработанных программных средств. При этом даже те системы, в которые подобные программные средства включены, не позволяют оперативно их редактировать, так как в результате их создания формируются не параметрические описания элементов оформления, а описания набора графических примитивов, составляющих элемент оформления. Поэтому, если элемент оформления по каким-либо причинам не удовлетворяет конструктора, его изображение приходится удалять и перестраивать вновь, вызывая команду для его формирования, с заданием нового набора параметров.

Для упрощения и ускорения работы конструкторов как при формировании, так и при редактировании элементов оформления чертежей необходимо разрабатывать не просто программиные модели, а параметрические программные модели. При их создании необходимо максимально использовать параметры по умолчанию, значения которых в первую очередь определяются требованиями ЕСКД, а также списки данных по соответствующим параметрам, значения из которых могут выбираться конструктором при создании соответствующего элемента оформления. Для редактирования элемента его параметрическая модель должна обеспечивать оперативное чтение задающих параметров (свойств) изображённого на чертеже элемента и позволять конструктору не только оперативно изменять их в соответствии с новыми значениями полностью или частично, но и перерисовывать этот элемент.
